// import fetch from 'node-fetch'
// import type { Movie, MovieDetails } from '../types'
// import { useFilmsStore } from './filmsStore'

// export { onBeforeRender }

// async function onBeforeRender() {
//   // const store = useFilmsStore()

//   // await store.fetchStarWarsMovies()

//   // return {
//   //   pageContext: {
//   //     pageProps: {
//   //       // We remove data we don't need because we pass `pageContext.movies` to
//   //       // the client; we want to minimize what is sent over the network.
//   //       movies: filterMoviesData(movies)
//   //     },
//   //     // The page's <title>
//   //     // documentProps: { title: getTitle(movies) }
//   //   }
//   // }
// }

// // function getTitle(movies: Movie[] | MovieDetails[]): string {
// //   const title = `${movies.length} Star Wars Movies`
// //   return title
// // }
